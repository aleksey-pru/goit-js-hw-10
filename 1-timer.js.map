{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = document.querySelector('.data-input');\nconst startButton = document.querySelector('.button');\nconst daysElem =  document.querySelector('[data-days]');\nconst hoursElem = document.querySelector('[data-hours]');\nconst minutesElem = document.querySelector('[data-minutes]');\nconst secondsElem = document.querySelector('[data-seconds]');\nlet userSelectedDate; \nlet countdownInterval;\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n\n  function addLeadingZero(value) {\n    return String(value).padStart(2, \"0\");\n}\n\nconst options = {\n    enableTime: true,\n\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0];\n        const now = new Date();\n        if (selectedDate > now) {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        } else {\n            iziToast.error({\n                position: \"topRight\",\n                title: 'Error',\n                message: 'Please choose a date in the future',\n            });\n            startButton.disabled = true;\n        }\n      console.log(selectedDates[0]);\n    },\n  };\nflatpickr('#datetime-picker', options);\n\nfunction startCountdown() {\n    if(!userSelectedDate) return;\n    startButton.disabled = true;\n    input.disabled = true;\n    countdownInterval = setInterval(() => {\n        const now = new Date();\n        const timeDiff = userSelectedDate - now;\n        if (timeDiff <= 0) {\n            clearInterval(countdownInterval);\n            updateTimerDisplay(0, 0, 0, 0);\n            startButton.disabled = false;\n            input.disabled = false;\n            return;\n        }\n        const { days, hours, minutes, seconds } = convertMs(timeDiff);\n\n        updateTimerDisplay(days, hours, minutes, seconds);\n    },1000)\n    \n}\n\nfunction updateTimerDisplay(days, hours, minutes, seconds) {\n    daysElem.textContent = days;\n    hoursElem.textContent = addLeadingZero(hours);\n    minutesElem.textContent = addLeadingZero(minutes);\n    secondsElem.textContent = addLeadingZero(seconds);\n}\n\nstartButton.addEventListener(\"click\", startCountdown);"],"names":["input","startButton","daysElem","hoursElem","minutesElem","secondsElem","userSelectedDate","countdownInterval","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","options","selectedDates","selectedDate","iziToast","flatpickr","startCountdown","timeDiff","updateTimerDisplay"],"mappings":"+IASA,MAAMA,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAC3D,IAAIC,EACAC,EACJ,SAASC,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,SAASC,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,MAAMC,EAAU,CACZ,WAAY,GAEZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAEhCC,EADQ,IAAI,MAEZZ,EAAmBY,EACnBjB,EAAY,SAAW,KAEvBkB,EAAS,MAAM,CACX,SAAU,WACV,MAAO,QACP,QAAS,oCACzB,CAAa,EACDlB,EAAY,SAAW,IAE7B,QAAQ,IAAIgB,EAAc,CAAC,CAAC,CAC7B,CACL,EACAG,EAAU,mBAAoBJ,CAAO,EAErC,SAASK,GAAiB,CAClBf,IACJL,EAAY,SAAW,GACvBD,EAAM,SAAW,GACjBO,EAAoB,YAAY,IAAM,CAElC,MAAMe,EAAWhB,EADL,IAAI,KAEhB,GAAIgB,GAAY,EAAG,CACf,cAAcf,CAAiB,EAC/BgB,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7BtB,EAAY,SAAW,GACvBD,EAAM,SAAW,GACjB,MACH,CACD,KAAM,CAAE,KAAAU,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUc,CAAQ,EAE5DC,EAAmBb,EAAMC,EAAOC,EAASC,CAAO,CACnD,EAAC,GAAI,EAEV,CAEA,SAASU,EAAmBb,EAAMC,EAAOC,EAASC,EAAS,CACvDX,EAAS,YAAcQ,EACvBP,EAAU,YAAcW,EAAeH,CAAK,EAC5CP,EAAY,YAAcU,EAAeF,CAAO,EAChDP,EAAY,YAAcS,EAAeD,CAAO,CACpD,CAEAZ,EAAY,iBAAiB,QAASoB,CAAc"}